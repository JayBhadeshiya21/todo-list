{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///D:/Todo-list/todo-list/lib/db.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\r\n\r\nconst globalForPrisma = global as unknown as { prisma: PrismaClient };\r\n\r\nexport const prisma =\r\n    globalForPrisma.prisma ||\r\n    new PrismaClient({\r\n        log: ['query'],\r\n    });\r\n\r\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AAEC,MAAM,SACT,gBAAgB,MAAM,IACtB,IAAI,sMAAY,CAAC;IACb,KAAK;QAAC;KAAQ;AAClB;AAEJ,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///D:/Todo-list/todo-list/app/api/projects/%5BprojectId%5D/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport { prisma } from '@/lib/db';\r\n\r\n/* =========================\r\n   GET PROJECT BY ID\r\n========================= */\r\nexport async function GET(request: Request) {\r\n    const { searchParams } = new URL(request.url);\r\n    const projectId = searchParams.get('projectId');\r\n\r\n    if (!projectId) {\r\n        return NextResponse.json(\r\n            { error: 'projectId is required' },\r\n            { status: 400 }\r\n        );\r\n    }\r\n\r\n    try {\r\n        const project = await prisma.projects.findUnique({\r\n            where: {\r\n                ProjectID: parseInt(projectId),\r\n            },\r\n            include: {\r\n                users: {\r\n                    select: {\r\n                        UserID: true,\r\n                        UserName: true,\r\n                        Email: true,\r\n                    },\r\n                },\r\n                tasklists: {\r\n                    include: {\r\n                        tasks: true,\r\n                    },\r\n                },\r\n            },\r\n        });\r\n\r\n        if (!project) {\r\n            return NextResponse.json(\r\n                { error: 'Project not found' },\r\n                { status: 404 }\r\n            );\r\n        }\r\n\r\n        return NextResponse.json(project);\r\n    } catch (error) {\r\n        console.error('Error fetching project:', error);\r\n        return NextResponse.json(\r\n            { error: 'Failed to fetch project' },\r\n            { status: 500 }\r\n        );\r\n    }\r\n}\r\n\r\n/* =========================\r\n   UPDATE PROJECT (PUT)\r\n========================= */\r\nexport async function PUT(request: Request) {\r\n    const { searchParams } = new URL(request.url);\r\n    const projectId = searchParams.get('projectId');\r\n\r\n    if (!projectId) {\r\n        return NextResponse.json(\r\n            { error: 'projectId is required' },\r\n            { status: 400 }\r\n        );\r\n    }\r\n\r\n    try {\r\n        const body = await request.json();\r\n        const { ProjectName, Description } = body;\r\n\r\n        const updatedProject = await prisma.projects.update({\r\n            where: {\r\n                ProjectID: parseInt(projectId),\r\n            },\r\n            data: {\r\n                ProjectName,\r\n                Description,\r\n            },\r\n        });\r\n\r\n        return NextResponse.json(updatedProject);\r\n    } catch (error) {\r\n        console.error('Error updating project:', error);\r\n        return NextResponse.json(\r\n            { error: 'Failed to update project' },\r\n            { status: 500 }\r\n        );\r\n    }\r\n}\r\n\r\n/* =========================\r\n   DELETE PROJECT\r\n========================= */\r\nexport async function DELETE(request: Request) {\r\n    const { searchParams } = new URL(request.url);\r\n    const projectId = searchParams.get('projectId');\r\n\r\n    if (!projectId) {\r\n        return NextResponse.json(\r\n            { error: 'projectId is required' },\r\n            { status: 400 }\r\n        );\r\n    }\r\n\r\n    try {\r\n        await prisma.projects.delete({\r\n            where: {\r\n                ProjectID: parseInt(projectId),\r\n            },\r\n        });\r\n\r\n        return NextResponse.json(\r\n            { message: 'Project deleted successfully' },\r\n            { status: 200 }\r\n        );\r\n    } catch (error) {\r\n        console.error('Error deleting project:', error);\r\n        return NextResponse.json(\r\n            { error: 'Failed to delete project' },\r\n            { status: 500 }\r\n        );\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAKO,eAAe,IAAI,OAAgB;IACtC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;IAC5C,MAAM,YAAY,aAAa,GAAG,CAAC;IAEnC,IAAI,CAAC,WAAW;QACZ,OAAO,gJAAY,CAAC,IAAI,CACpB;YAAE,OAAO;QAAwB,GACjC;YAAE,QAAQ;QAAI;IAEtB;IAEA,IAAI;QACA,MAAM,UAAU,MAAM,qHAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;YAC7C,OAAO;gBACH,WAAW,SAAS;YACxB;YACA,SAAS;gBACL,OAAO;oBACH,QAAQ;wBACJ,QAAQ;wBACR,UAAU;wBACV,OAAO;oBACX;gBACJ;gBACA,WAAW;oBACP,SAAS;wBACL,OAAO;oBACX;gBACJ;YACJ;QACJ;QAEA,IAAI,CAAC,SAAS;YACV,OAAO,gJAAY,CAAC,IAAI,CACpB;gBAAE,OAAO;YAAoB,GAC7B;gBAAE,QAAQ;YAAI;QAEtB;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,gJAAY,CAAC,IAAI,CACpB;YAAE,OAAO;QAA0B,GACnC;YAAE,QAAQ;QAAI;IAEtB;AACJ;AAKO,eAAe,IAAI,OAAgB;IACtC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;IAC5C,MAAM,YAAY,aAAa,GAAG,CAAC;IAEnC,IAAI,CAAC,WAAW;QACZ,OAAO,gJAAY,CAAC,IAAI,CACpB;YAAE,OAAO;QAAwB,GACjC;YAAE,QAAQ;QAAI;IAEtB;IAEA,IAAI;QACA,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,WAAW,EAAE,WAAW,EAAE,GAAG;QAErC,MAAM,iBAAiB,MAAM,qHAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;YAChD,OAAO;gBACH,WAAW,SAAS;YACxB;YACA,MAAM;gBACF;gBACA;YACJ;QACJ;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,gJAAY,CAAC,IAAI,CACpB;YAAE,OAAO;QAA2B,GACpC;YAAE,QAAQ;QAAI;IAEtB;AACJ;AAKO,eAAe,OAAO,OAAgB;IACzC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;IAC5C,MAAM,YAAY,aAAa,GAAG,CAAC;IAEnC,IAAI,CAAC,WAAW;QACZ,OAAO,gJAAY,CAAC,IAAI,CACpB;YAAE,OAAO;QAAwB,GACjC;YAAE,QAAQ;QAAI;IAEtB;IAEA,IAAI;QACA,MAAM,qHAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;YACzB,OAAO;gBACH,WAAW,SAAS;YACxB;QACJ;QAEA,OAAO,gJAAY,CAAC,IAAI,CACpB;YAAE,SAAS;QAA+B,GAC1C;YAAE,QAAQ;QAAI;IAEtB,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,gJAAY,CAAC,IAAI,CACpB;YAAE,OAAO;QAA2B,GACpC;YAAE,QAAQ;QAAI;IAEtB;AACJ"}}]
}